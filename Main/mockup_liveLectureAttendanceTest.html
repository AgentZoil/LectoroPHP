<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="svg" href="/Images/NexTech_logo.svg">

    <!-- Styles -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">

    <link href="dist/output.css" rel="stylesheet">

    <!-- Scripts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar/index.global.min.js'></script>
    <script>
        $(document).ready(function () {
            $('#sidebar').load('Sidebar.html', function () {
                // Get references to elements
                const mainContent = $('#main-content');

                // Add event listener to the drawer for when it's shown or hidden
                $('#sidebar-large-button').click(function () {
                    mainContent.addClass('ml-sidebarSmall');
                    mainContent.removeClass('ml-sidebarLarge');
                });

                $('#sidebar-small-button').click(function () {
                    mainContent.addClass('ml-sidebarLarge');
                    mainContent.removeClass('ml-sidebarSmall');
                });

                $('#dropdown-button').click(function () {
                    $('#dropdown-arrow').toggleClass('bx-chevron-down');
                    $('#dropdown-arrow').toggleClass('bx-chevron-up');
                });
            });

            var chart = {
                series: [53, 16],
                chart: {
                    height: 500,
                    width: "100%",
                    type: "donut",
                },
                stroke: {
                    colors: ["transparent"],
                    lineCap: "d",
                },
                grid: {
                    padding: {
                        top: -2,
                    },
                },
                labels: ["Enrolled", "Present"],
                legend: {
                    position: "bottom",
                    fontFamily: "Quicksand",
                },
            };

            // Render the chart
            var bChart = new ApexCharts(document.querySelector("#bar-chart"), chart);
            bChart.render();
        });

        var lectureShowing = false;

        function showLectureCode() {
            if(!lectureShowing) {
                document.getElementById("lectureCodeDisplay").innerHTML = "Current Lecture Code: 123456789"
                document.getElementById("showLectureCodeButton").innerHTML = "Hide Lecture Code"
                lectureShowing = true;
            } else {
                document.getElementById("lectureCodeDisplay").innerHTML = "Code not currently displayed"
                document.getElementById("showLectureCodeButton").innerHTML = "Show Lecture Code"
                lectureShowing = false;
            }
        }

    </script>
</head>

<body class="bg-background p-0 m-0">
    <div id="sidebar"></div>

    <div id="main-content" class="p-20 ml-304 flex flex-col h-fit justify-between">
        <div class="flex flex-row pt-4 pb-4">
            <div class="flex flex-row flex-wrap gap-16 w-fit h-fit">
                <div class="p-4">
                    <img src="webcamphoto.jpg" class="p-4 rounded-lg shadow-lg w-full h-auto"></img>

                    <div class="flex justify-center mt-4 gap-4">
                        <button class="bg-accent hover:bg-accent text-white py-2 px-4 rounded-lg shadow-md flex items-center gap-2">
                            <i class='bx bx-play-circle text-xl'></i> Start Stream
                        </button>
                        <button class="bg-errorBold text-white py-2 px-4 rounded-lg shadow-md flex items-center gap-2">
                            <i class='bx bx-stop-circle text-xl'></i> Stop Stream
                        </button>
                    </div>

                    <div class="flex justify-center pt-4">
                        <button id="showLectureCodeButton" class="bg-background text-accent border-2 border-blue-500 py-2 px-4 rounded-lg shadow-md flex items-center gap-2 hover:bg-accent hover:text-white transition-colors duration-200" onclick="showLectureCode()">
                            Show Lecture Code 
                        </button>
                    </div>
                </div>
                
            </div>
            <div class="bg-menu p-4 w-full h-fit rounded-lg">
                <table
                    class="text-left [&_tr]:border-b-2 [&_tr]:border-accent [&_tr:not(:first-of-type)]:border-opacity-10 [&_tr_th]:py-2 [&_tr_td:not(first-of-type)]:pl-4 [&_tr_td:last-of-type]:pr-3 [&_tr_th:not(first-of-type)]:pl-4 [&_tr_td]:pb-2 [&_tr_td]:pt-2 [&_tr_:first-of-type]:pl-2 border-2 overflow-hidden w-full rounded-lg border-colapse border-spacing-0">
                    <tr>
                        <th>Student Name</th>
                        <th>Student Number</th>
                        <th>Avg Attendance</th>
                        <th>Time Registered</th>
                        <th>Leaving Time</th>
                        <th>Attendance</th>
                    </tr>
                    <tr class="bg-accent/20">
                        <td>Matthew Healey</td>
                        <td>6868241</td>
                        <td>93.2%</td>
                        <td>15:04</td>
                        <td>15:35</td>
                        <td><input type="checkbox" class="ml-6 h-5 w-5 text-accent border-gray-300 rounded focus:ring-accent"></td>
                    </tr>
                    <tr>
                        <td>Idries Eagle-Masuak</td>
                        <td>6868228</td>
                        <td>88.4%</td>
                        <td>N/A</td>
                        <td>N/A</td>
                        <td><input type="checkbox" class="ml-6 h-5 w-5 text-accent border-gray-300 rounded focus:ring-accent"></td>
                    </tr>
                    <tr>
                        <td>Samuel Fitzpatrick-Fuller</td>
                        <td>6869695</td>
                        <td>85%</td>
                        <td>14:58</td>
                        <td>15:01</td>
                        <td><input type="checkbox" class="ml-6 h-5 w-5 text-accent border-gray-300 rounded focus:ring-accent"></td>
                    </tr>
                    <tr>
                        <td>James Kim</td>
                        <td>7166151</td>
                        <td>74%</td>
                        <td>15:12</td>
                        <td>15:45</td>
                        <td><input type="checkbox" class="ml-6 h-5 w-5 text-accent border-gray-300 rounded focus:ring-accent"></td>
                    </tr>
                    <tr>
                        <td>Gia Bach Nhu</td>
                        <td>7398271</td>
                        <td>67.9%</td>
                        <td>N/A</td>
                        <td>N/A</td>
                        <td><input type="checkbox" class="ml-6 h-5 w-5 text-accent border-gray-300 rounded focus:ring-accent"></td>
                    </tr>
                    <tr>
                        <td>Dinh Quoc Huy Nguyen</td>
                        <td>7595153</td>
                        <td>91.6%</td>
                        <td>15:01</td>
                        <td>15:45</td>
                        <td><input type="checkbox" class="ml-6 h-5 w-5 text-accent border-gray-300 rounded focus:ring-accent"></td>
                    </tr>
                </table>
                
                <div class="mt-4 flex flex-col items-center">
                    <!-- Help text -->
                    <span class="text-sm text-textColour">
                        Showing <span class="font-semibold text-accent">1</span> to <span
                            class="font-semibold text-accent">6</span> of <span
                            class="font-semibold text-accent">16</span> Entries
                    </span>
                    <!-- Buttons -->
                    <div class="inline-flex mt-2 xs:mt-0">
                        <button
                            class="flex items-center justify-center px-3 h-8 text-sm font-medium text-textColour bg-menu border border-textAccent/40 rounded-s-lg hover:bg-accent">
                            Prev
                        </button>
                        <button
                            class="flex items-center justify-center px-3 h-8 text-sm font-medium text-textColour bg-menu border border-s border-textAccent/40 rounded-e-lg hover:bg-accent">
                            Next
                        </button>
                    </div>
                </div>

                <button class="bg-menu text-accent border-2 border-blue-500 py-2 px-4 rounded-lg shadow-md flex items-center gap-2 hover:bg-accent hover:text-white transition-colors duration-200">
                    Generate Report
                </button>
            </div>
            
        </div>
            
        <div class="inline-flex flex-row gap-10">
            <div class="w-full max-w-lg p-4 bg-menu rounded-lg shadow-md">
                <ul id="user-log" class="list-none list-inside space-y-2">
                    <li>User1 has joined</li>
                    <li>User2 has joined</li>
                    <li>User3 has joined</li>
                    <li>User4 has joined</li>
                </ul>
            </div>
            
            <div id="barGraphContainer" class="p-6 bg-menu shadow-lg rounded-lg">
                <div class="flex justify-between">
                    <div class="flex flex-col flex-grow">
                        <div class="flex items-center gap-2 text-textColour">
                            <span class="text-lg font-bold">CSIT110</span>
                            <span class="text-sm text-textAccent">13/05/2024</span>
                            <a href="#nothing">
                                <i class="bx bx-info-circle"></i>
                            </a>
                        </div>
                    </div>
                    <a href="#nothing" class="text-lg">
                        <i class="text-textColour bx bx-dots-horizontal-rounded"></i>
                    </a>
                </div>
        
                <div id="bar-chart" class="py-4"></div>
        
                <div class="flex items-center pt-4 border-t border-gray-500">
                    <a href="#nothing" class="text-textAccent flex flex-grow items-center gap-2">
                        <span>Lecture - 3PM to 5PM</span>
                    </a>
                    <a href="#nothing" class="text-accentBold flex items-center gap-2">
                        <span>REPORT</span>
                        <i class="bx bx-chevron-right"></i>
                    </a>
                </div>
            </div>

            <div class="w-100 h-100 bg-menu shadow-lg rounded-lg flex items-center justify-center border-gray-300 shadow-md flex-shrink-0 px-4 py-2">
                <span id="lectureCodeDisplay" class="text-white text-4xl font-bold">Code not currently displayed</span>
            </div>
    
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
</body>

</html>

<!--
            
            <div class="flex-grow self-end">
                <div
                    class="w-full h-[600px] gap-10 flex justify-center p-4 bg-menu shadow-lg rounded-lg">
                    <div class="relative h-full overflow-hidden"><span class="text-base font-bold">Camera 1</span><img
                            class="h-[95%] border-4 border-accentBold rounded-lg shadow-lg"
                            src="./Images/mockupLiveRecord.png" /></div>
                    <div class="relative h-full overflow-hidden"><span class="text-base font-bold">Camera 2</span><img
                            class="border-4 border-accentBold rounded-lg shadow-lg"
                            src="./Images/mockupLiveRecord2.png" /></div>
                </div>
            </div>
            -->